<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="theme-color" content="#ef4444" />
  <link rel="manifest" href="manifest.json" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Dyscal" />
  <title>Dyscal ¬∑ PWA plein √©cran</title>
  <style>
    :root {
      color-scheme: light;
      --bg: #f4f5f9;
      --text: #0f172a;
      --muted: #475569;
      --surface: #ffffff;
      --shadow: 0 16px 48px rgba(0, 0, 0, 0.08);
      --radius: 22px;
      font-size: 18px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Inter", "SF Pro Display", "Helvetica", "Arial", sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: grid;
      grid-template-rows: 1fr;
    }

    .pwa-shell {
      min-height: 100vh;
      display: grid;
      grid-template-rows: auto 1fr;
    }

    .top-hero {
      position: sticky;
      top: 0;
      z-index: 10;
      background: linear-gradient(135deg, #fef2f2, #fff5e6);
      padding: env(safe-area-inset-top, 16px) 1.25rem 1.25rem;
      box-shadow: 0 16px 30px rgba(0, 0, 0, 0.08);
      border-bottom-left-radius: 28px;
      border-bottom-right-radius: 28px;
    }

    .day-meta {
      display: flex;
      align-items: center;
      gap: 0.65rem;
      color: var(--muted);
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.02em;
    }

    .day-meta span:first-child {
      color: #ef4444;
      background: #fee2e2;
      padding: 0.35rem 0.75rem;
      border-radius: 999px;
    }

    .now-card {
      margin-top: 0.85rem;
      background: #ef4444;
      color: #ffffff;
      border-radius: 18px;
      padding: 1rem;
      box-shadow: var(--shadow);
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 0.5rem;
    }

    .now-card strong {
      display: block;
      font-size: 1.6rem;
      line-height: 1.1;
    }

    .now-card small {
      display: block;
      opacity: 0.8;
      font-weight: 700;
    }

    .now-emoji {
      font-size: 2.2rem;
    }

    main {
      padding: 1.25rem;
      padding-bottom: calc(2.5rem + env(safe-area-inset-bottom, 0px));
      display: grid;
      gap: 1.5rem;
    }

    .schedule {
      display: grid;
      gap: 0.75rem;
    }

    .slot {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 0.95rem 1.05rem;
      display: grid;
      grid-template-columns: auto 1fr auto;
      gap: 0.75rem;
      align-items: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06);
      border: 1px solid rgba(0, 0, 0, 0.04);
    }

    .slot strong {
      font-size: 1.05rem;
      line-height: 1.25;
    }

    .slot small {
      color: var(--muted);
      font-weight: 600;
    }

    .slot.highlight {
      background: #111827;
      color: #ffffff;
    }

    .slot.highlight small {
      color: rgba(255, 255, 255, 0.8);
    }

    .badge {
      background: #fee2e2;
      color: #991b1b;
      padding: 0.4rem 0.75rem;
      border-radius: 999px;
      font-weight: 800;
      font-size: 0.9rem;
    }

    .week-ribbon {
      display: grid;
      gap: 0.75rem;
    }

    .ribbon-day {
      padding: 1rem;
      border-radius: 20px;
      color: #ffffff;
      font-weight: 800;
      font-size: 1.1rem;
      text-shadow: 0 2px 6px rgba(0, 0, 0, 0.18);
    }

    .ribbon-day span {
      display: block;
      opacity: 0.92;
      font-weight: 700;
      font-size: 0.95rem;
    }

    .palette-red { background: #ef4444; }
    .palette-orange { background: #f97316; }
    .palette-yellow { background: #f59e0b; }
    .palette-green { background: #10b981; }
    .palette-blue { background: #2563eb; }
    .palette-indigo { background: #4338ca; }
    .palette-pink { background: #ec4899; }

    .time-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.5rem;
      background: var(--surface);
      padding: 0.75rem;
      border-radius: var(--radius);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06);
    }

    .time-cell {
      padding: 0.75rem;
      text-align: center;
      font-weight: 800;
      border-radius: 14px;
      background: #f8fafc;
      border: 1px solid rgba(0, 0, 0, 0.04);
    }

    .time-cell.active {
      background: #111827;
      color: #ffffff;
    }

    .bottom-cta {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      padding: 1rem;
      padding-bottom: calc(1rem + env(safe-area-inset-bottom, 0px));
      background: linear-gradient(0deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.7) 100%);
      backdrop-filter: blur(10px);
      display: grid;
      grid-template-columns: 1fr;
    }

    .bottom-cta button {
      width: 100%;
      border: none;
      border-radius: 16px;
      padding: 1rem;
      font-weight: 800;
      font-size: 1rem;
      background: linear-gradient(135deg, #ef4444, #f97316);
      color: #ffffff;
      box-shadow: var(--shadow);
    }

    @media (min-width: 900px) {
      body {
        background: radial-gradient(circle at 20% 20%, #fff7ed, #f4f5f9 45%);
      }

      main {
        grid-template-columns: 1.2fr 0.9fr;
        align-items: start;
        max-width: 1100px;
        margin: 0 auto 3.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="pwa-shell">
    <header class="top-hero">
      <div class="day-meta">
        <span>aujourd'hui</span>
        <span>vingt-cinq juin</span>
        <span aria-hidden="true">‚Ä∫</span>
      </div>
      <div class="now-card" role="alert">
        <div>
          <small>prochain cr√©neau</small>
          <strong>sept heures un quart</strong>
        </div>
        <div class="now-emoji" aria-hidden="true">üíÉ</div>
      </div>
    </header>

    <main>
      <section aria-label="Journ√©e" class="schedule">
        <div class="slot highlight">
          <div aria-hidden="true" style="font-size:1.6rem;">üíÉ</div>
          <div>
            <strong>sept heures un quart</strong>
            <small>Bachata</small>
          </div>
          <span class="badge" aria-label="cr√©neau s√©lectionn√©">priorit√©</span>
        </div>
        <div class="slot">
          <div aria-hidden="true" style="font-size:1.6rem;">üèä‚Äç‚ôÇÔ∏è</div>
          <div>
            <strong>neuf heures</strong>
            <small>Piscine</small>
          </div>
          <span aria-hidden="true">‚Ä∫</span>
        </div>
        <div class="slot">
          <div aria-hidden="true" style="font-size:1.6rem;">üìñ</div>
          <div>
            <strong>dix heures</strong>
            <small>R√©visions</small>
          </div>
          <span aria-hidden="true">‚Ä∫</span>
        </div>
        <div class="slot">
          <div aria-hidden="true" style="font-size:1.6rem;">ü§Ω‚Äç‚ôÇÔ∏è</div>
          <div>
            <strong>onze heures</strong>
            <small>Club</small>
          </div>
          <span aria-hidden="true">‚Ä∫</span>
        </div>
        <div class="slot">
          <div aria-hidden="true" style="font-size:1.6rem;">üë®‚Äçüë©‚Äçüëß</div>
          <div>
            <strong>quatorze heures</strong>
            <small>Lyon 5</small>
          </div>
          <span aria-hidden="true">‚Ä∫</span>
        </div>
        <div class="slot">
          <div aria-hidden="true" style="font-size:1.6rem;">üè°</div>
          <div>
            <strong>dix-neuf heures</strong>
            <small>Villeneuve</small>
          </div>
          <span aria-hidden="true">‚Ä∫</span>
        </div>
        <div class="slot">
          <div aria-hidden="true" style="font-size:1.6rem;">üèãÔ∏è‚Äç‚ôÄÔ∏è</div>
          <div>
            <strong>vingt heures</strong>
            <small>Musculation</small>
          </div>
          <span aria-hidden="true">‚Ä∫</span>
        </div>
        <div class="slot">
          <div aria-hidden="true" style="font-size:1.6rem;">‚ù§Ô∏è</div>
          <div>
            <strong>vingt et une heures</strong>
            <small>Amie</small>
          </div>
          <span aria-hidden="true">‚Ä∫</span>
        </div>
      </section>

      <section aria-label="Rep√®re visuel de la semaine" class="week-ribbon">
        <div class="time-grid" aria-label="Grille textuelle d'heures">
          <div class="time-cell">huit</div>
          <div class="time-cell">z√©ro</div>
          <div class="time-cell">neuf</div>
          <div class="time-cell">cinq</div>
          <div class="time-cell active">dix</div>
          <div class="time-cell active">dix</div>
          <div class="time-cell">onze</div>
          <div class="time-cell">quinze</div>
        </div>
        <div class="ribbon-day palette-red">lundi vingt-cinq juin <span>journ√©e √©coul√©e</span></div>
        <div class="ribbon-day palette-orange">mardi vingt-six juin <span>jour courant</span></div>
        <div class="ribbon-day palette-yellow">mercredi vingt-sept juin <span>t√¢che en priorit√©</span></div>
        <div class="ribbon-day palette-green">jeudi vingt-huit juin <span>planning stable</span></div>
        <div class="ribbon-day palette-blue">vendredi vingt-neuf juin <span>deux cr√©neaux</span></div>
        <div class="ribbon-day palette-indigo">samedi trente juin <span>sport et sortie</span></div>
        <div class="ribbon-day palette-pink">dimanche premier juillet <span>journ√©e famille</span></div>
      </section>
    </main>
  </div>

  <div class="bottom-cta">
    <button type="button" aria-label="Ajouter une activit√©">Ajouter une activit√©</button>
  </div>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js').catch(() => {
          console.warn('Service worker registration failed');
        });
      });
    }
  </script>
</body>
</html>
